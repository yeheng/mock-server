spring:
  # 生产环境禁用 H2 控制台
  h2:
    console:
      enabled: false

  # 使用文件数据库而非内存数据库
  datasource:
    url: jdbc:h2:file:./data/wiremockdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE
    driver-class-name: org.h2.Driver
    username: ${DB_USERNAME:sa}  # 从环境变量读取
    password: ${DB_PASSWORD:}    # 从环境变量读取

  jpa:
    hibernate:
      ddl-auto: validate  # 生产环境使用 validate，不使用 create-drop
    show-sql: false

# 生产环境日志级别
logging:
  level:
    root: WARN
    io.github.yeheng.wiremock: INFO  # 生产环境只输出 INFO 级别
    org.springframework.web: WARN    # 关闭 Web DEBUG 日志

management:
  endpoints:
    web:
      exposure:
        include: health,info  # 生产环境只开放必要端点
  endpoint:
    health:
      show-details: never    # 不显示健康检查详情